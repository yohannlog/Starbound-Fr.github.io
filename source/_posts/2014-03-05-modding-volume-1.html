---
layout: post
cover_alt: cover
wordpress_id: 8173
categories:
- Chronique Modding
tags: []
title: "Le Guide Du Moddeur Starboundien - Volume 1 : Bases et Items"
cover: "/wp-content/uploads/2014/03/Le-Guide-du-Modderu-Starboundien.png"
author: Maxigregrze
---
<a href="/wp-content/uploads/2014/03/Le-Guide-du-Modderu-Starboundien-LOGO.png"><img src="/wp-content/uploads/2014/03/Le-Guide-du-Modderu-Starboundien-LOGO.png" alt="Le Guide du Moddeur Starboundien LOGO" width="350" height="250" class="aligncenter size-full wp-image-8179" /></a>
Bonjour, bonsoir et bienvenue dans ce premier volume du Guide Du Moddeur Starboundien!


<em>- Mais où sont passés Tete30000 et ses points d'exclamations ?</em>

Et bien, on va dire que je le remplace. Je ne sais pas pour combien de temps, mais pour le moment, c'est moi qui conduis (avec l'aide indispensable et extrêmement utile de l'honorable Lyres).

Si vous êtes là, c'est pour une raison : vous voulez apprendre à modder ce magnifique jeu qu'est <em>Starbound</em>. Ou alors vous êtes paumés, mais dans ce cas je ne peux rien faire pour vous.

Et bien sachez que modder est loin d'être difficile. Au contraire, c'est très simple une fois que l'on a pris l'habitude.
Et donc, on commence aujourd'hui avec les bases : la création d'un item (et pas d'un objet, ce n'est pas la même chose.).

<h2>1.1 Les Bases</h2>

Starbound marche en se basant sur des <em>assets</em>. <strong>Un asset est un contenu du jeu</strong>. Par exemple, un item, un mob, ou encore une tech.

Il y a 3 classes d'assets :
<ul>
	<li><strong>Les basiques :</strong> l'asset de base aura une extension de fichier différente selon ce qu'il est : une recette de fabrication sera en .recipe, un item en .item, une tech en .tech, etc.</li>
	<li><strong>Les Visuels :</strong> les .png, et, de temps à autre, des .frames qui accompagnent les .png (ils ont le même nom).</li>
	<li><strong>Les Audios :</strong> en .abc pour les instruments, ou encore en .ogg pour les sons directement joués en jeu (musique de biome, bruitage...).</li>
</ul>


Les basiques et visuels nous serviront beaucoup. On garde les sons pour plus tard.

Donc, avant de faire notre mod, nous allons apprendre à connaître nos ennemis jurés: <strong>Les Bugs de la mort</strong> qui tuent des poneys d'Alaska. C'est moche, hein? (Note de Lyres : Oui.) On va juste dire Bugs, question de lisibilité.

Il y en existe des tas, mais trois sortent du lot:
<ul>
	<li><h3>Les items bien trop parfaits</h3> Ils ont l'apparence d'un voxel vert. Ça semble enfantin, mais plus vous en aurez, plus vous les détesterez. C'est en fait <strong>un item dont le code contient une ou plusieurs erreurs</strong>. Il faudra malheureusement le ré-obtenir après avoir résolu le bug, vous donnant la joie de supprimer ce petit démon verdâtre.</li>
	<li><h3>Les Chargements infinis</h3> Les pires. <strong>Ils laissent le chargement initial durer éternellement</strong>, après que le logo <em>OrangePwaçon</em> se soit bien moqué de nous (J'vous assure c'est le nom du Studio). Ils sont coriaces car viennent d'une erreur toute conne pour la plupart : <strong>un oubli de virgule</strong>. Mais il ne nous dit pas où, nous laissant la joie de relire tout ce qu'on a fait. J'adore. Lancer le serveur local pour voir la console est un des meilleurs moyens pour savoir ce qui le provoque, quand il ne donne pas la localisation d'un fichier aléatoire.</li>
	<li><h3>Les crash</h3> Bête et méchant. Leur origine est très variable et n'est pas la même pour tous les cas de crash. Ne cherchons donc pas à expliquer leur origine ici.</li>
</ul>


N'oublions pas ! Pour modder il vous faut des <strong>logiciels</strong> :
<ul>
	<li><strong>Un bon décompresseur :</strong> Winrar étant payant (avec une période gratuite illimité) et 7-zip étant gratuit, je vous les conseille. Mais du moment que ça peut faire des .zip, ça convient.</li>
	<li><strong>Un éditeur de texte :</strong> Notepad++. Un Must Have. Je ne saurais conseiller mieux.</li>
	<li><strong>Starbound, version steam :</strong> Dit comme ça peut paraître idiot, mais quelqu'un m'a déjà demandé comment modder alors qu'il n'avait pas le jeu.</li>

</ul>


Vous avez ces trois là ? Et bien c'est parti, on va décompresser les Assets !

<em>- On va pas modder ? Ça commence à être un peu long là !</em>

Patience, nous allons toucher à <strong>une partie très importante</strong>, qui requiert toute votre attention. Les Assets sont compressés dans un .pak, un fichier très connu dans le milieu du modding.

Contrairement à ce que vous pourriez croire, chers amis, utiliser Winrar/7Zip/Tarte ne marche pas ! Un .pak a un algorithme d'encryptage qui diffère selon les jeux. Il a même été modifié dans les version beta de la beta. Donc ici, ton décompresseur est aussi impuissant que moi contre une chouette (Je ne vise personne.).

Ainsi, la suite dépend de votre système d'exploitation :

<h2>Windows :</h2>

Ouvrez l'invite de commande (cmd) et entrez ceci :

<code>"C:\Program Files (x86)\Steam\SteamApps\common\Starbound\win32\asset_unpacker.exe" "C:\Program Files (x86)\Steam\SteamApps\common\Starbound\assets\packed.pak" "C:\Program Files (x86)\Steam\SteamApps\common\Starbound\assets\unpacked"</code>

Vous trouverez tout vos assets dans "C:\Program Files (x86)\Steam\SteamApps\common\Starbound\assets\unpacked" et vous pourrez les modifier sans avoir de répercutions dans le jeu.

<h2>Mac :</h2>

Ouvrez le Terminal et entrez ceci :
<code>cd ~/Library/Application\ Support/Steam/SteamApps/common/Starbound/
Starbound.app/Contents/MacOS/asset_unpacker assets/packed.pak assets/unpacked
</code>
Vous trouverez vos assets dans ~/Library/Application\ Support/Steam/SteamApps/common/Starbound/assets/unpacked, les modifications n'auront pas de répercutions dans le jeu.

<h2>Linux :</h2>

Franch...
Hum, pardon.

En assumant que vous êtes dans le bon répertoire depuis votre terminal (avec la commande <em>cd</em>, comme sous MacOS) (/home/NOM-D'UTILISATEUR/.steam/steam/SteamApps/common/Starbound/linux32 ou linux64). Entrez :

<code>./asset_unpacker ../assets/packed.pak ../assets/unpacked</code>

Les assets finiront dans starbound/assets/unpacked, et le modifier n'affectera pas votre jeu.

<em>- C'est bon, on va enfin faire une tech qui fait des piou piou comme dans <em>Star Wars</em> et qui lance des paternes de projectile comme les meilleurs <em>Bullet Hell</em> ? </em>

Pas si vite les amis ! Nous allons commencer par des choses plus simples. Et avant de faire quoi que ce soit, nous allons faire comprendre au jeu que notre mod existe.

Déjà, il vous faut un nom. Appelez-le donc "GuideDuModdeurStarboundienParVotrePseudo", le "VotrePseudo" est à remplacer par votre pseudo, bien évidemment.

Créez dans le dossier "mod/" un dossier nommé "GuideDuModdeurStarboundienParVotrePseudo".

Ensuite, Ouvrez NotePad++ et créez un nouveau fichier : GuideDuModdeurStarboundienParVotrePseudo.modinfo .
et remplissez-le avec le code suivant :
<pre><code class="json">{
"name" : "",
"version" : "",
"path" : "."
}</code>

<h2><strong>Explications :</strong></h2>
<ul>
	<li>Name : C'est le nom du mod. Il porte le même nom que le dossier et que le fichier. Dans notre cas, c'est GuideDuModdeurStarboundienParVotrePseudo.</li>
	<li>Version : C'est la version de starbound. Au moment ou j'écris , c'est la "Beta v. Enraged Koala". Une faute et le jeu ne marche plus. Donc faites attention.</li>
	<li>Path : Ne le modifiez pas et laissez-le comme il est avec son point entre ses guillemets, il est grincheux. Nous verrons comment l'aborder dans le prochain volume.</li>
</ul>


<em>- On commence ?</em>

<strong>OUI!</strong>

<h2>1.2 Item de base</h2>

Je vous conseille de faire un dossier par nouvel ajout, que ce soit items, objets, ou autres.

<em>- Tu as parlé d'une différence entre objet et item. Mais c'est pas logique du tout !</em>

En fait, un item est un matériau qui peut être utilisé pour fabriquer d'autres matériaux, objets, ou qui peut être consommé, utilisé. Un objet est un élément qui peut se placer dans le décor. Ne pas confondre un objet avec un Tile. Les Tiles sont les trucs que les gens appellent vulgairement "bloc", "cube" ou "carré".

Un item est sûrement le plus simple à faire. C'est donc ce que nous allons faire.

Nous allons faire un noyau de flux temporel qui remplit le réservoir du vaisseau de 1000 points de fuel et qui est obtenu en faisant cuir 42 charbons. C'est pas très équilibré mais on est là pour <strong>apprendre.</strong>

Pour cela, créez un nouveau dossier dans votre dossier GuideDuModdeurStarboundienVotrePseudo que vous appellerez /items/ et créez un TemporalCore.item grâce à notepad++.

Voici la structure d'un item basique :

<code>{
"itemName" : "",
"rarity" : "",
"inventoryIcon" : "",
"description" : "",
"shortdescription" : ""
}
</code>

<h2><strong>Explications :</strong></h2>
<ul>
	<li>ItemName : C'est le nom de code de l'item. Il est utile pour les recettes et le player.config , mais nous y reviendrons plus tard. Ici, je conseille "temporalCore".</li>
	<li>Rarity : C'est la rareté de l'item. C'est-à-dire la couleur du bandeau. "Common" pour blanc, "Uncommon" pour vert, "Rare" pour bleu et "Legendary" pour violet. À vous de choisir.</li>
	<li>InventoryIcon : C'est la texture. Le nom doit contenir l’extension en .png. Nous allons utiliser cette texture nommée temporalCore.png dans ce cas.<a href="/wp-content/uploads/2014/03/temporalCore.png"><img class="aligncenter size-full wp-image-8174" alt="temporalCore" src="/wp-content/uploads/2014/03/temporalCore.png" width="16" height="16" /></a></li>
	<li>Description : C'est la description telle que vue en jeu. N'oubliez pas le point.</li>
	<li>shortDescription : C'est le nom de l'item en jeu. N'oubliez pas les Majuscules.</li>
</ul>

Pour l'instant, vous avez juste un item, il ne sert pas de carburant.

Pour le rendre effectif, il va falloir rajouter une virgule après la dernière variable, à la fin de "shortdescription" : "", puis rajouter cette ligne après :

<code>"fuelAmount" : 1000</code>

Avec notre item, le carburant sera augmenté de 1000.

Le code avec lequel on se trouve est donc :

<code>{
"itemName" : "",
"rarity" : "",
"inventoryIcon" : "",
"description" : "",
"shortdescription" : "",
"fuelAmount" : 1000
}</code>

Sauvegardez ce fichier. Votre item est fini. Mais ce volume ne s'arrête pas là !

<em>- Je vois pas mon item dans le jeu, c'est normal?</em>

Il te manque encore deux choses : la recette de fabrication de l'item, et le tier sur lequel on peut obtenir l'item.

Donc, pour la recette, ouvrez notepad++ et créez un fichier temporalCore.recipe.

Ça doit ressembler à ça:
<code>{
  "input" : [
    { "item" : "coalore", "count" : 42 }
  ],
  "output" : { "item" : "temporalCore", "count" : 1 },
  "groups" : [ "stonefurnace", "all" ]
}
</code>
<h2><strong>Explications :</strong></h2>
<ul>
	<li>Input, c'est les items qu'il faut pour obtenir notre item.<Entre les premiers crochets, c'est le ou les items demandés. Ici, 42 minerais de charbon, "item" étant le nom de l'item et "count" la quantité.</li>
	<li>Output c'est l'item désiré. "item" et "count" ont la même utilité que pour Input.</li>
	<li>"Groups", c'est un peu plus compliqué, car très mal fait à la base :
la première variable représente la table de craft, ici "stonefurnace".
Les autres représentent les filtres, les boutons qui servent a classer les items dans les tables de craft. "all" est obligatoire, sinon votre item ne sera pas vu si la personne n'utilise pas de filtres. Vu qu'ici on a "stonefurnace", le four en pierre, il n'y a pas de filtres, donc ne pas mettre "all" ou mettre un autre filtre rendra votre recette nulle, c'est-à-dire qu'elle ne marchera pas. Ça vaut pour toutes les tables de craft avec l'interface du four, comme la raffinerie par exemple. Pour les tables de craft avec filtres, je vous expliquerai dans le prochain Volume.</li>
</ul>

<em>-Je le vois toujours pas en jeu ! Tu n'es qu'un charlatan !</em>

Vous avez déjà oublié ? Il manque encore un élément. Le player.config.
Nouveau fichier sur notepad++, player.config.
Nous allons utiliser la fonction Merge, qui permet d'ajouter des éléments à un fichier existant sans le modifier. Très utile pour la compatibilité entre les mods.

Voilà le code:
<code>{
"__merge" : [],
"defaultBlueprints" : {
"__merge" : [],
"tier1" : [  
      { "item" : temporalCore" }
]
}
}
</code>
	
Nous allons importer "defaultBlueprints" et importer son "tier1" .
Cela veut dire que nous allons rajouter notre item au tier1. Dès qu'un personnage est créé, il obtient toutes les recettes du tier 1, donc la nôtre. <strong>Vous êtes ainsi obligé de créer un nouveau personnage pour accéder à cette nouvelle recette.</strong>

Lancez le jeu, ça marche.

Et c'est tout. C'est déjà bien, non?

N'oubliez pas, si vous voulez plus de renseignements, avez besoin d'aide ou avez des erreurs, c'est <a href="/forum/thread-963.html" title="ici" target="_blank">ICI</a> que ça se passe!

<em>- Et on fera un mecha surpuissant qui ressemble à un gundam?</em>

<strong>NON!</strong>
